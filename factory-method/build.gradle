plugins {  
    id 'java'  
    id 'application' 
    id 'jacoco'
    id 'com.github.kt3k.coveralls' version '2.8.4'
}

group 'com.kmg.factorymethod'
version '1.0-SNAPSHOT'

mainClassName = 'com.kmg.factorymethod.App'

sourceCompatibility = 1.8

repositories {  
    mavenCentral() 
}

ext {
    junitVersion = '5.3.1'
}

jacoco {
    toolVersion = "0.8.5"
}

dependencies {

    testImplementation "org.junit.jupiter:junit-jupiter-api:$junitVersion"
    testImplementation "org.junit.jupiter:junit-jupiter-engine:$junitVersion"
    testImplementation "org.junit.jupiter:junit-jupiter-params:$junitVersion"
    testImplementation 'org.assertj:assertj-core:3.11.1'
    testImplementation 'org.hamcrest:hamcrest-library:1.3'
}

test {
	useJUnitPlatform()

	testLogging {
		events "passed", "skipped", "failed"
	}

    finalizedBy jacocoTestReport
}

jacocoTestReport {
    dependsOn test

    reports {
        html.enabled = true
        xml.enabled = true
    }
}

coveralls {
    jacocoReportPath 'build/reports/jacoco/test/jacocoTestReport.xml'
}